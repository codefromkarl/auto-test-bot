# Spec: NH-IMAGE-001 é—¹æµ·èå›¾ç”Ÿæˆç´ æ
Issue: #10

## ğŸ¯ Purpose
éªŒè¯é—¹æµ·åˆ›ä½œæ ¸å¿ƒç¯èŠ‚ï¼ˆèå›¾ç”Ÿæˆç´ æï¼‰çš„è´¨é‡å’Œæ•ˆç‡ï¼Œç¡®ä¿è§’è‰²ã€åœºæ™¯ä¸æç¤ºè¯çš„æœ‰æ•ˆèåˆç”Ÿæˆé«˜è´¨é‡å›¾ç‰‡ç´ æã€‚

## ğŸ”­ Scope
- **é€‚ç”¨**ï¼šè§’è‰²åœºæ™¯èåˆç”Ÿå›¾ã€å›¾ç‰‡ç´ æç®¡ç†ã€å€™é€‰å›¾ç‰‡é€‰æ‹©
- **åŒ…å«**ï¼š
  1. èåˆç”Ÿå›¾å‚æ•°é…ç½®å’Œæ‰§è¡Œï¼ˆæ­¥éª¤5ï¼‰
  2. å›¾ç‰‡ç´ æç®¡ç†å’ŒæŸ¥çœ‹ï¼ˆå½“å‰/å†å²ï¼‰
  3. å€™é€‰å›¾ç‰‡ç”Ÿæˆå’Œæœ€ä½³é€‰æ‹©
  4. ç”Ÿå›¾è´¨é‡å’Œæ ¼å¼éªŒè¯
- **ä¸é€‚ç”¨**ï¼šåˆ†é•œç¼–è¾‘ã€è§†é¢‘åˆ¶ä½œç¯èŠ‚

## ğŸ”Œ Preconditions & Gates
- **Env**: AIåˆ›ä½œæœåŠ¡å¯ç”¨ï¼ˆPort 9020ï¼‰ï¼Œç”¨æˆ·å·²ç™»å½•ä¸”Tokenæœ‰æ•ˆ
- **Precondition**: åˆ†é•œåˆ†æä¸èµ„æºç»‘å®šå·²å®Œæˆï¼ˆNH-SCRIPT-001 Passedï¼‰ï¼Œèå›¾ç”ŸæˆæœåŠ¡å¯ç”¨
- **Config**: ä½¿ç”¨`config/main_config_with_testid.yaml`æˆ–å¯¹åº”ç¯å¢ƒé…ç½®
- **Resource**: GPUèµ„æºå……è¶³ï¼Œç´ æåº“è®¿é—®æ­£å¸¸

**Gates**:
1. **Gate-Env**: ç”Ÿå›¾æœåŠ¡å¥åº·æ£€æŸ¥ï¼Œç´ æåº“è®¿é—®æ­£å¸¸
2. **Gate-Run**: æˆåŠŸè§¦å‘èåˆä»»åŠ¡å¹¶è¿”å›ç»“æœï¼Œæ— é˜»å¡é”™è¯¯
3. **Gate-Quality**: å›¾ç‰‡åˆ†è¾¨ç‡ç¬¦åˆæ ‡å‡†ï¼ˆâ‰¥512x512ï¼‰ï¼Œæ— æ˜æ˜¾å´©å
4. **Gate-Data**: ç”Ÿæˆå‚æ•°å’Œæç¤ºè¯æ­£ç¡®ä¿å­˜ï¼Œç´ æç®¡ç†åŠŸèƒ½æ­£å¸¸

## âœ… Acceptance Criteria
- **èåˆæˆåŠŸç‡**: èåˆç”Ÿå›¾æˆåŠŸç‡ â‰¥ 95%
- **ç´ æç®¡ç†**: å€™é€‰å›¾ç‰‡ç”Ÿæˆæ­£å¸¸ï¼ˆ2-8å¼ ï¼‰ï¼Œå½“å‰/å†å²Tabåˆ‡æ¢æ­£å¸¸
- **æ€§èƒ½æŒ‡æ ‡**: å•å¼ ç”Ÿæˆè€—æ—¶ â‰¤ 30ç§’ï¼Œæ‰¹é‡ç”Ÿæˆ â‰¤ 5åˆ†é’Ÿ
- **è´¨é‡æ ‡å‡†**: å›¾ç‰‡æ— æ˜æ˜¾å´©åï¼Œç¬¦åˆæç¤ºè¯æè¿°ï¼Œèåˆæ•ˆæœè‡ªç„¶
- **äº§ç‰©å®Œæ•´**: å¿…é¡»ç”Ÿæˆ`report.html`å’Œ`logs.txt`ï¼ŒåŒ…å«ç”Ÿæˆæ ·æœ¬æˆªå›¾

## ğŸ—ºï¸ Mapping
- **Workflows**:
  - **èåˆç”Ÿå›¾æ ¸å¿ƒ**:
    - `workflows/fc/naohai_FC_NH_040_rf.yaml` (èåˆç”Ÿå›¾æ ¸å¿ƒæµç¨‹)
    - `workflows/fc/naohai_FC_NH_040.yaml` (èåˆç”Ÿå›¾åŸç‰ˆ)
  - **ç´ æç®¡ç†**:
    - `workflows/fc/naohai_FC_NH_041_rf.yaml` (å½“å‰/å†å²Tabs RFç‰ˆæœ¬)
    - `workflows/fc/naohai_FC_NH_041.yaml` (å½“å‰/å†å²TabsåŸç‰ˆ)
  - **å›¾ç‰‡ä¸Šä¼ **:
    - `workflows/fc/naohai_FC_NH_039_rf.yaml` (å›¾ç‰‡ä¸Šä¼ æµ‹è¯•RFç‰ˆæœ¬)
  - **ç«¯åˆ°ç«¯é›†æˆ**:
    - `workflows/e2e/naohai_E2E_GoldenPath.yaml` (Phase 5: generate_image_assets)
- **Robot Tags**: `@image`, `@fusion`, `@generation`, `@material`
- **Command**: `python src/main_workflow.py --spec NH-IMAGE-001`

### è¯¦ç»† Workflow æ˜ å°„
| æµ‹è¯•åœºæ™¯ | Workflowæ–‡ä»¶ | å…³é”®Steps | éªŒè¯ç‚¹ |
|---------|-------------|-----------|--------|
| èåˆç”Ÿå›¾ | naohai_FC_NH_040_rf.yaml | test_fusion_generation | èåˆå‚æ•°ã€ç”Ÿæˆè¿‡ç¨‹ã€ç»“æœéªŒè¯ |
| ç´ æç®¡ç† | naohai_FC_NH_041_rf.yaml | test_tab_switching | å½“å‰/å†å²Tabã€å›¾ç‰‡åˆ—è¡¨ã€åˆ‡æ¢åŠŸèƒ½ |
| å›¾ç‰‡ä¸Šä¼  | naohai_FC_NH_039_rf.yaml | test_image_upload | ä¸Šä¼ æµç¨‹ã€æ–‡ä»¶éªŒè¯ã€ç´ æå±•ç¤º |
| ç«¯åˆ°ç«¯èåˆ | naohai_E2E_GoldenPath.yaml | generate_image_assets | å®Œæ•´èåˆæµç¨‹ã€æœ€ä½³é€‰æ‹© |

### èåˆå‚æ•°é…ç½®
- **èåˆåº¦**: 0-100å¯è°ƒèŠ‚ï¼Œæ¨èå€¼60-80
- **é£æ ¼å¼ºåº¦**: è½»å¾®/é€‚ä¸­/å¼ºçƒˆä¸‰æ¡£
- **åˆ†è¾¨ç‡**: 512x512, 768x768, 1024x1024
- **ç”Ÿæˆæ•°é‡**: 2-8å¼ å€™é€‰å›¾ç‰‡
- **ç§å­å€¼**: æ”¯æŒå›ºå®šç§å­å¤ç°ç»“æœ

## ğŸ§¾ Evidence Policy
- **Runs Directory**: `runs/YYYY-MM-DD/`
- **File Naming**: `NH-IMAGE-001-run.md`
- **Required Content**:
  - Execution Command & Commit SHA
  - Sample Generated Images (ç¼©ç•¥å›¾æˆ–è·¯å¾„ï¼ŒåŒ…å«å¤±è´¥æ¡ˆä¾‹)
  - Generation Parameters (Prompt, Seed, Fusion Ratio)
  - Performance Metrics (ç”Ÿæˆè€—æ—¶ã€æˆåŠŸç‡ç»Ÿè®¡)
  - Quality Assessment Results (å›¾ç‰‡è´¨é‡è¯„ä¼°)
  - Material Management Screenshots (ç´ æç®¡ç†ç•Œé¢æˆªå›¾)
  - Standard Output/Error Logs
  - Link to HTML Report

## ğŸ“ ChangeLog
- 2025-12-21: æ ‡å‡†åŒ–æ›´æ–° - å¯¹é½NH-CREATE-001æ ¼å¼ï¼Œç»†åŒ–èåˆç”Ÿå›¾åŠŸèƒ½æ˜ å°„
- 2025-12-20: æ ¼å¼æ ‡å‡†åŒ– - å¯¹é½GitHub Issue Templateæ ¼å¼
- 2025-03-08: åˆç‰ˆ - åŸºäºé—¹æµ·å…³é”®æµç¨‹æ–‡æ¡£è®¾è®¡
