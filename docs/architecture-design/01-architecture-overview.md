# 01 - 架构总览和设计原则

## 一、核心挑战

闹海AIGC平台自动化测试面临三大核心挑战：

### 1.1 异步长耗时任务
- **视频生成**：1-10分钟不等
- **批量处理**：多任务并发执行
- **状态复杂**：排队/处理/完成/失败

### 1.2 复杂文件处理
- **大文件下载**：资源包几百MB
- **格式校验**：多种媒体格式
- **完整性检查**：文件数量和内容

### 1.3 高频UI变动
- **组件化开发**：元素ID经常变化
- **多版本并行**：不同环境差异
- **国际化需求**：文案多语言支持

## 二、设计原则

### 2.1 分层解耦
```
业务层 → 适配层 → 执行层
   ↓          ↓          ↓
 RF DSL   Python   Playwright
```

### 2.2 资产保护
- 保留现有度量系统
- 复用MCP诊断能力
- 维持CI门禁机制

### 2.3 渐进增强
- 不破坏现有功能
- 逐步引入新特性
- 支持新旧并存

## 三、技术选型依据

| 技术选项 | 优势 | 劣势 | 决策 |
|---------|------|------|------|
| 纯RF Browser | 学习简单 | 无法处理AIGC特性 | ❌ |
| 纯Python Bot | 功能强大 | 门槛高 | ❌ |
| **RF+Python混合** | **兼顾** | **复杂度中等** | ✅ |

## 四、架构价值

### 4.1 业务价值
- **降低门槛**：非技术人员可参与
- **提升效率**：API+UI混合编排
- **减少阻塞**：软门禁机制

### 4.2 技术价值
- **保护投资**：复用现有工程资产
- **增强能力**：解决AIGC特定问题
- **可持续发展**：插件化架构支持扩展